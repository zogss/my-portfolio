@layer components {
  /* Enhanced form components with glass morphism */
  .form-input {
    @apply bg-glass-white border-slate-gray-600/30 text-foreground placeholder:text-muted-foreground focus-within:border-primary/50 focus-within:ring-primary/20 ease-smooth border backdrop-blur-md transition-all duration-300 focus-within:ring-2;
    box-shadow: var(--shadow-glass);
  }

  .form-input-primary {
    @apply hover:border-primary/40 hover:shadow-glass-lg focus:ring-primary/30 rounded-lg px-4 py-3 text-sm focus:outline-none;
  }

  .form-error {
    @apply text-destructive mt-1 text-xs font-medium tracking-wide;
  }

  /* Enhanced gradient backgrounds */
  .bg-gradient-primary {
    background: var(--gradient-primary);
    position: relative;
    overflow: hidden;
  }

  .bg-gradient-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-mesh);
    opacity: 0;
    transition: opacity var(--duration-slow) var(--ease-smooth);
  }

  .bg-gradient-primary:hover::before {
    opacity: 1;
  }

  .bg-gradient-secondary {
    background: var(--gradient-secondary);
    backdrop-filter: blur(var(--blur-lg));
  }

  .bg-gradient-tertiary {
    background: var(--gradient-tertiary);
    position: relative;
    overflow: hidden;
  }

  .bg-gradient-tertiary::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      oklch(1 0 0 / 0.1) 0%,
      transparent 50%,
      oklch(0 0 0 / 0.1) 100%
    );
    pointer-events: none;
  }

  .bg-gradient-tertiary:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-secondary);
    transition: all var(--duration-normal) var(--ease-spring);
  }

  /* Glass morphism card styles */
  .glass-card {
    @apply bg-glass-white rounded-xl border border-white/10 backdrop-blur-xl;
    box-shadow: var(--shadow-glass);
    position: relative;
  }

  .glass-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
      135deg,
      oklch(1 0 0 / 0.2) 0%,
      transparent 50%,
      oklch(1 0 0 / 0.1) 100%
    );
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask-composite: exclude;
    pointer-events: none;
  }

  .glass-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-glass-lg);
    transition: all var(--duration-normal) var(--ease-smooth);
  }

  /* Enhanced button styles */
  .btn-primary {
    @apply bg-gradient-tertiary text-primary-foreground shadow-primary hover:shadow-secondary ease-spring focus:ring-primary/50 transform rounded-lg px-6 py-3 font-semibold transition-all duration-300 hover:-translate-y-0.5 focus:ring-2 focus:outline-none active:translate-y-0;
  }

  .btn-secondary {
    @apply glass-card text-foreground ease-spring transform px-6 py-3 font-medium transition-all duration-300 hover:-translate-y-0.5 hover:bg-white/5 active:translate-y-0 active:bg-white/10;
  }

  .btn-ghost {
    @apply text-muted-foreground hover:text-foreground ease-smooth rounded-lg px-4 py-2 font-medium transition-all duration-300 hover:bg-white/5 active:bg-white/10;
  }

  /* Enhanced navigation styles */
  .nav-link {
    @apply text-muted-foreground hover:text-foreground ease-smooth before:bg-primary before:ease-spring relative px-4 py-2 transition-all duration-300 before:absolute before:inset-x-0 before:bottom-0 before:h-0.5 before:origin-center before:scale-x-0 before:rounded-full before:transition-transform before:duration-300 hover:before:scale-x-100;
  }

  .nav-link.active {
    @apply text-foreground;
  }

  .nav-link.active::before {
    @apply scale-x-100;
  }

  /* Enhanced Navigation States */
  .nav-top {
    @apply visible opacity-100;
    transform: translateY(0) scale(1);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .nav-floating {
    @apply visible opacity-100;
    transform: translateY(0) scale(1);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    backdrop-filter: blur(20px) saturate(1.5);
    background: oklch(0.08 0.012 270 / 0.95);
    border: 1px solid oklch(1 0 0 / 0.1);
    box-shadow:
      0 24px 48px oklch(0 0 0 / 0.15),
      0 0 0 1px oklch(1 0 0 / 0.08),
      inset 0 1px 0 oklch(1 0 0 / 0.15);
  }

  .nav-floating:hover {
    transform: translateY(0) scale(1.02);
    box-shadow:
      0 32px 64px oklch(0 0 0 / 0.2),
      0 0 0 1px oklch(1 0 0 / 0.12),
      inset 0 1px 0 oklch(1 0 0 / 0.2);
  }

  .nav-hidden {
    @apply invisible opacity-0;
    transform: translateY(-100%) scale(0.95);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .nav-visible {
    @apply visible opacity-100;
    transform: translateY(0) scale(1);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Navigation morphing effects */
  .nav-top .glass-card {
    background: linear-gradient(
      135deg,
      oklch(0.08 0.012 270 / 0.8) 0%,
      oklch(0.08 0.012 270 / 0.6) 100%
    );
    border: 1px solid oklch(1 0 0 / 0.05);
    backdrop-filter: none;
  }

  .nav-floating .glass-card {
    background: oklch(0.08 0.012 270 / 0.95);
    border: 1px solid oklch(1 0 0 / 0.1);
    backdrop-filter: blur(20px) saturate(1.5);
  }

  /* Floating elements */
  .floating {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-10px) rotate(1deg);
    }
    66% {
      transform: translateY(5px) rotate(-1deg);
    }
  }

  /* Magnetic hover effect */
  .magnetic {
    transition: transform var(--duration-normal) var(--ease-smooth);
  }

  .magnetic:hover {
    transform: scale(1.05);
  }

  /* Enhanced magnetic hover for navigation */
  .hover-magnetic {
    transition: all var(--duration-normal) var(--ease-spring);
    transform-origin: center;
  }

  .hover-magnetic:hover {
    transform: scale(1.1) translateY(-2px);
    filter: brightness(1.1) saturate(1.2);
  }

  .hover-magnetic:active {
    transform: scale(0.95) translateY(0px);
    transition-duration: 0.1s;
  }

  /* Parallax scroll effect */
  .parallax {
    transform: translateZ(0);
    transition: transform 0.1s linear;
  }

  /* Enhanced text styles */
  .text-glow {
    text-shadow: var(--text-shadow-glow);
  }

  .text-outline {
    -webkit-text-stroke: 1px oklch(1 0 0 / 0.2);
    color: transparent;
    background: var(--gradient-tertiary);
    background-clip: text;
    -webkit-background-clip: text;
  }

  /* Advanced loading states */
  .skeleton {
    @apply from-muted via-muted-foreground/20 to-muted animate-pulse rounded bg-gradient-to-r;
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Interactive elements */
  .interactive {
    @apply ease-spring cursor-pointer transition-all duration-300 select-none hover:scale-105 active:scale-95;
  }

  .interactive:hover {
    filter: brightness(1.1) saturate(1.2);
  }

  /* Focus visible styles for accessibility */
  .focus-ring {
    @apply focus-visible:ring-primary/50 focus-visible:ring-offset-background focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none;
  }

  /* Modern scrollbar styles */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: oklch(0.35 0.02 270) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: oklch(0.35 0.02 270);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: oklch(0.45 0.02 270);
  }

  /* Backdrop blur utilities */
  .backdrop-blur-glass {
    backdrop-filter: blur(var(--blur-lg)) saturate(1.5);
  }

  .backdrop-blur-heavy {
    backdrop-filter: blur(var(--blur-2xl)) saturate(1.8) brightness(1.1);
  }

  /* Modern border styles */
  .border-gradient {
    position: relative;
    background: var(--gradient-glass);
    border: 1px solid transparent;
  }

  .border-gradient::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    background: var(--gradient-primary);
    border-radius: inherit;
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask-composite: exclude;
  }

  /* Mesh gradient background */
  .bg-mesh {
    background: var(--gradient-mesh);
    position: relative;
  }

  .bg-mesh::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(
        circle at 20% 80%,
        oklch(0.65 0.25 270 / 0.15) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        oklch(0.7 0.2 300 / 0.15) 0%,
        transparent 50%
      );
    animation: mesh-move 20s ease-in-out infinite;
  }

  @keyframes mesh-move {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -30px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  /* Scroll progress bar enhancements */
  .scroll-progress {
    position: relative;
    overflow: hidden;
  }

  .scroll-progress::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 20px;
    background: linear-gradient(
      90deg,
      transparent,
      oklch(1 0 0 / 0.3),
      transparent
    );
    animation: progress-shimmer 2s ease-in-out infinite;
  }

  @keyframes progress-shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(500%);
    }
  }

  /* Navigation transition effects */
  .nav-transition-enter {
    animation: nav-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .nav-transition-exit {
    animation: nav-exit 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes nav-enter {
    from {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes nav-exit {
    from {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    to {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
    }
  }

  /* Enhanced scroll direction indicator */
  .scroll-indicator {
    @apply fixed right-8 bottom-8 z-30;

    .glass-card {
      @apply rounded-full p-3 transition-all duration-300;
      backdrop-filter: blur(16px) saturate(1.5);
      background: oklch(0.08 0.012 270 / 0.8);
      border: 1px solid oklch(1 0 0 / 0.1);
    }

    .glass-card:hover {
      transform: scale(1.1);
      background: oklch(0.08 0.012 270 / 0.95);
      border-color: oklch(1 0 0 / 0.15);
    }

    svg {
      @apply transition-all duration-300;
      filter: drop-shadow(0 0 8px oklch(0.65 0.25 270 / 0.5));
    }
  }
}
